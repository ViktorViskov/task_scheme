(function(t){function e(e){for(var s,i,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"015c":function(t,e,a){"use strict";a("dfad")},"0d12":function(t,e,a){},"230c":function(t,e,a){},5338:function(t,e,a){"use strict";a("230c")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isAuth?a("div",[a("UserMenu")],1):a("div",[a("nav",{staticClass:"root--nav"},[a("span",{class:0==t.activePage?t.activeLink:t.inActivLink,on:{click:function(e){return t.PageNavigator(0)}}},[t._v("Login")]),a("span",{class:1==t.activePage?t.activeLink:t.inActivLink,on:{click:function(e){return t.PageNavigator(1)}}},[t._v("Register")])]),a("div",{staticClass:"root--container"},[0==t.activePage?a("LoginForm"):t._e(),1==t.activePage?a("RegisterForm"):t._e()],1)])])},r=[],i=a("1da1"),o=(a("96cf"),a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.LogIn.apply(null,arguments)}}},[a("h3",{staticClass:"login--title"},[t._v("Auth form")]),a("div",{staticClass:"login--container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"login--input",attrs:{type:"text",placeholder:"Your login"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"login--input",attrs:{type:"password",placeholder:"Your password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("button",{staticClass:"login--button",on:{click:t.LogIn}},[t._v("LogIn")])]),a("div",{staticClass:"login--status"},[t._v(t._s(t.statusMessage))])])}),c=[],u=(a("498a"),{name:"LoginForm",data:function(){return{login:"",password:"",statusMessage:""}},methods:{LogIn:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.login.trim()&&""!=this.password.trim()){t.next=3;break}return this.statusMessage="Login or password can not be empty",t.abrupt("return");case 3:return e=new FormData,e.append("login",this.login),e.append("password",this.password),this.userLogin="",this.userPassword="",t.next=10,fetch("login",{method:"POST",body:e}).then((function(t){return t.json()})).then((function(t){var e;return a.statusMessage=null!==(e=t.detail)&&void 0!==e?e:t.message}));case 10:return t.next=12,this.$parent.CheckStatus();case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),l=u,p=(a("5338"),a("2877")),d=Object(p["a"])(l,o,c,!1,null,null,null),v=d.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("h2",{staticClass:"register--title"},[t._v("Registration")]),a("div",{staticClass:"register--container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"register--input",attrs:{type:"text",placeholder:"Your name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"surname"}],staticClass:"register--input",attrs:{type:"text",placeholder:"Your surname"},domProps:{value:t.surname},on:{input:function(e){e.target.composing||(t.surname=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"register--input",attrs:{type:"text",placeholder:"Your login"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"register--input",attrs:{type:"password",placeholder:"Your password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirm,expression:"password_confirm"}],staticClass:"register--input",attrs:{type:"password",placeholder:"Your password"},domProps:{value:t.password_confirm},on:{input:function(e){e.target.composing||(t.password_confirm=e.target.value)}}}),a("button",{staticClass:"register--button",on:{click:t.CreateUser}},[t._v("Create")])]),a("div",{staticClass:"register--status"},[t._v(t._s(t.statusMessage))])])},m=[],g=(a("b0c0"),{name:"RegisterForm",data:function(){return{statusMessage:"",name:"",surname:"",login:"",password:"",password_confirm:""}},methods:{CreateUser:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.name&&""!=this.login&&""!=this.surname&&""!=this.password&&""!=this.password_confirm){t.next=5;break}return this.statusMessage="Check inputed data",t.abrupt("return");case 5:if(this.password==this.password_confirm){t.next=8;break}return this.statusMessage="Passwords not same",t.abrupt("return");case 8:return e=new FormData,e.append("name",this.name),e.append("surname",this.surname),e.append("login",this.login),e.append("password",this.password),e.append("password_confirm",this.password_confirm),this.name="",this.surname="",this.login="",this.password="",this.password_confirm="",t.next=21,fetch("/register",{method:"POST",body:e}).then((function(t){return t.json()})).then((function(t){var e;return a.statusMessage=null!==(e=t.detail)&&void 0!==e?e:t.message}));case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),f=g,k=(a("015c"),Object(p["a"])(f,h,m,!1,null,null,null)),w=k.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-menu"},[a("nav",{staticClass:"nav-user-menu"},[a("span",{class:0==t.activePage?t.activeLink:t.inActivLink,on:{click:function(e){return t.PageNavigator(0)}}},[t._v("Tasks")]),a("span",{class:1==t.activePage?t.activeLink:t.inActivLink,on:{click:function(e){return t.PageNavigator(1)}}},[t._v("Create task")]),a("span",{staticClass:"nav-user-menu--link nav-user-menu--link__exit",on:{click:t.Exit}},[t._v("Exit")])]),a("div",{staticClass:"content"},[0==t.activePage?a("Tasks"):t._e(),1==t.activePage?a("CreateForm"):t._e()],1)])},b=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tasks"},[a("nav",{staticClass:"tasks--nav"},[a("span",{class:0==t.activePage?t.activeLink:t.inActivLink,on:{click:function(e){return t.PageNavigator(0)}}},[t._v("All")]),a("span",{class:1==t.activePage?t.activeLink:t.inActivLink,on:{click:function(e){return t.PageNavigator(1)}}},[t._v("By month")]),a("span",{class:2==t.activePage?t.activeLink:t.inActivLink,on:{click:function(e){return t.PageNavigator(2)}}},[t._v("By day")])]),a("div",{staticClass:"tasks--main"},[1==t.activePage?a("div",{staticClass:"tasks--page tasks--page__month"},[a("h2",{staticClass:"tasks--title"},[t._v("Select year and month")]),a("div",{staticClass:"tasks--container"},[a("div",{staticClass:"tasks--year"},[a("label",{staticClass:"tasks--label",attrs:{for:"year"}},[t._v("Year")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"tasks--select",attrs:{name:"year",id:"year"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.year=e.target.multiple?a:a[0]},t.LoadMonthTasks]}},t._l(t.availableYears,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)]),a("div",{staticClass:"tasks--month"},[a("label",{staticClass:"tasks--label",attrs:{for:"month"}},[t._v("Month")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"tasks--select",attrs:{name:"month",id:"month"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]},t.LoadMonthTasks]}},t._l(t.availableMonths,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)])])]):t._e(),2==t.activePage?a("div",{staticClass:"tasks--page tasks--page__day"},[a("h2",{staticClass:"tasks--title"},[t._v("Select day")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateDayTasks,expression:"dateDayTasks"}],staticClass:"tasks--select",attrs:{type:"date"},domProps:{value:t.dateDayTasks},on:{change:t.LoadDayTasks,input:function(e){e.target.composing||(t.dateDayTasks=e.target.value)}}})]):t._e(),a("div",{staticClass:"tasks--content"},[a("h2",{staticClass:"tasks--title"},[t._v("Total: "+t._s(t.amount))]),t._l(t.tasksList,(function(e,s){return a("div",{key:e.id,staticClass:"tasks--task"},[a("h3",{staticClass:"tasks--title"},[t._v(t._s(e.title))]),a("div",{staticClass:"tasks--desc"},[t._v(t._s(e.desc))]),a("div",{staticClass:"tasks--container"},[a("div",{staticClass:"tasks--time tasks--time__start"},[t._v(" Start: "+t._s(e.start.replace("T"," "))+" ")]),a("div",{staticClass:"tasks--time tasks--time__stop"},[t._v(" Stop: "+t._s(e.stop.replace("T"," "))+" ")])]),a("button",{staticClass:"tasks--button tasks--button__delete",on:{click:function(a){return t.DeleteTask(e.id,s)}}},[t._v(" x ")])])}))],2)])])},x=[],C=(a("99af"),{name:"Tasks",data:function(){return{activePage:0,activeLink:"tasks--link tasks--link__active",inActivLink:"tasks--link",amount:0,tasksList:[],currentDate:new Date,availableYears:[],availableMonths:[],availableDays:[],year:null,month:null,day:null,dateDayTasks:""}},methods:{LoadAllTasks:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.tasksList=[],t.next=3,fetch("/tasks",{method:"POST"});case 3:if(e=t.sent,200==e.status){t.next=9;break}this.$parent.Exit(!1),alert("Session expired"),t.next=13;break;case 9:return t.next=11,e.json();case 11:this.tasksList=t.sent,this.TotalTime();case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),LoadMonthTasks:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.tasksList=[],e=new FormData,a=new Date(this.year,this.month+1,0).getDate(),e.append("date_start","".concat(this.year,"-").concat(this.month,"-1T00:00")),e.append("date_stop","".concat(this.year,"-").concat(this.month,"-").concat(a,"T23:59")),t.next=7,fetch("/date_tasks",{method:"POST",body:e});case 7:if(s=t.sent,200==s.status){t.next=13;break}this.$parent.Exit(!1),alert("Session expired"),t.next=17;break;case 13:return t.next=15,s.json();case 15:this.tasksList=t.sent,this.TotalTime();case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),LoadDayTasks:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.tasksList=[],e=new FormData,a=new Date(this.dateDayTasks),e.append("date_start","".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate(),"T00:00")),e.append("date_stop","".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate(),"T23:59")),t.next=7,fetch("/date_tasks",{method:"POST",body:e});case 7:if(s=t.sent,200==s.status){t.next=13;break}this.$parent.Exit(!1),alert("Session expired"),t.next=17;break;case 13:return t.next=15,s.json();case 15:this.tasksList=t.sent,this.TotalTime();case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),DeleteTask:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("You are really want to delete '".concat(this.tasksList[a].title,"' task?"))){t.next=8;break}return s=new FormData,s.append("task_id",e),t.next=5,fetch("/delete",{method:"DELETE",body:s});case 5:return t.next=7,this.LoadAllTasks();case 7:this.TotalTime();case 8:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),TotalTime:function(){for(var t=0,e=0;e<this.tasksList.length;e++){var a=new Date(this.tasksList[e].start),s=new Date(this.tasksList[e].stop),n=s.getTime()-a.getTime();t+=n>0?n/1e3/60:0}this.amount="".concat(Math.floor(t/60)," hour(s) ").concat(t-60*Math.floor(t/60)," minut(s)")},PageNavigator:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.activePage=parseInt(e),t.t0=e,t.next=0===t.t0?4:1===t.t0?7:2===t.t0?10:13;break;case 4:return t.next=6,this.LoadAllTasks();case 6:return t.abrupt("break",13);case 7:return t.next=9,this.LoadMonthTasks();case 9:return t.abrupt("break",13);case 10:return t.next=12,this.LoadDayTasks();case 12:return t.abrupt("break",13);case 13:return t.next=15,this.TotalTime();case 15:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),CreateArray:function(t,e){for(var a=[],s=t;s<=e;s++)a.push(s);return a}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$parent.$parent.isAuth){t.next=11;break}return this.year=this.currentDate.getFullYear(),this.month=this.currentDate.getMonth()+1,this.day=this.currentDate.getDate(),this.availableYears=this.CreateArray(this.year-1,this.year+1),this.availableMonths=this.CreateArray(1,12),this.availableDays=this.CreateArray(1,new Date(this.year,this.month+1,0).getDate()),this.dateDayTasks="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()),t.next=10,this.LoadAllTasks();case 10:this.TotalTime();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}),T=C,P=(a("980e"),Object(p["a"])(T,y,x,!1,null,null,null)),L=P.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create"},[a("h2",{staticClass:"create--title"},[t._v("Create task")]),a("div",{staticClass:"create--container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskTitle,expression:"taskTitle"}],staticClass:"create--input",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.taskTitle},on:{input:function(e){e.target.composing||(t.taskTitle=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskDesc,expression:"taskDesc"}],staticClass:"create--input",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.taskDesc},on:{input:function(e){e.target.composing||(t.taskDesc=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskStart,expression:"taskStart"}],staticClass:"create--input",attrs:{type:"datetime-local"},domProps:{value:t.taskStart},on:{change:t.UpdateStopTime,input:function(e){e.target.composing||(t.taskStart=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskStop,expression:"taskStop"}],staticClass:"create--input",attrs:{type:"datetime-local"},domProps:{value:t.taskStop},on:{input:function(e){e.target.composing||(t.taskStop=e.target.value)}}}),a("button",{staticClass:"create--button",on:{click:t.CreateTask}},[t._v("Create")])]),a("div",{staticClass:"create--status"},[t._v(t._s(t.statusMessage))])])},S=[],M={name:"CreateForm",data:function(){return{statusMessage:"",taskTitle:"",taskDesc:"",taskStart:"",taskStop:"",password_confirm:""}},methods:{CreateTask:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.taskTitle&&""!=this.taskDesc&&""!=this.taskStart&&""!=this.taskStop){t.next=5;break}return this.statusMessage="Check inputed data",t.abrupt("return");case 5:if(!(new Date(this.taskStart).getTime()>=new Date(this.taskStop).getTime()-299e3)){t.next=8;break}return this.statusMessage="Check start stop time. Task time minimum 5 min",t.abrupt("return");case 8:return e=new FormData,e.append("title",this.taskTitle),e.append("description",this.taskDesc),e.append("start",this.taskStart),e.append("stop",this.taskStop),this.taskTitle="",this.taskDesc="",t.next=17,fetch("/create",{method:"POST",body:e}).then((function(t){return t.json()})).then((function(t){var e;return a.statusMessage=null!==(e=t.detail)&&void 0!==e?e:t.message}));case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),UpdateStopTime:function(){this.taskStop=this.taskStart}}},O=M,j=(a("9226"),Object(p["a"])(O,D,S,!1,null,null,null)),A=j.exports,N={name:"UserMenu",data:function(){return{activePage:0,activeLink:"nav-user-menu--link nav-user-menu--link__active",inActivLink:"nav-user-menu--link"}},components:{Tasks:L,CreateForm:A},methods:{PageNavigator:function(t){this.activePage=parseInt(t)},Exit:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!!t&&confirm("You are really want to exit?");!e&&t||(document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",this.$parent.isAuth=!1)}},mounted:function(){}},R=N,F=(a("a79b"),Object(p["a"])(R,_,b,!1,null,null,null)),E=F.exports,Y={name:"Root",data:function(){return{activePage:0,activeLink:"root--link root--link__active",inActivLink:"root--link",isAuth:!1}},components:{LoginForm:v,RegisterForm:w,UserMenu:E},methods:{CheckStatus:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("is_auth").then((function(t){return t.json()})).then((function(t){return e.isAuth=t.status}));case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),PageNavigator:function(t){this.activePage=parseInt(t)}},mounted:function(){this.CheckStatus()}},$=Y,U=(a("5c0b"),Object(p["a"])($,n,r,!1,null,null,null)),I=U.exports,B=a("9483");Object(B["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(I)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"8b9e":function(t,e,a){},9226:function(t,e,a){"use strict";a("0d12")},"980e":function(t,e,a){"use strict";a("a8c8")},"9c0c":function(t,e,a){},a79b:function(t,e,a){"use strict";a("8b9e")},a8c8:function(t,e,a){},dfad:function(t,e,a){}});
//# sourceMappingURL=app.6d12e0c0.js.map